# ============================================================================
# Snowflake Authentication Configuration
# ============================================================================
# Choose authentication method: "password" or "keypair"
# Default is "password" if not specified
SNOWFLAKE_AUTH_TYPE=password

# ============================================================================
# Common Configuration (Required for both auth methods)
# ============================================================================
# Your Snowflake account identifier (e.g., abc12345.us-east-1 or myorg-myaccount)
SNOWFLAKE_ACCOUNT=your-account.region

# Snowflake user
SNOWFLAKE_USER=your-username

# ============================================================================
# Password Authentication (SNOWFLAKE_AUTH_TYPE=password)
# ============================================================================
SNOWFLAKE_PASSWORD=your-password

# ============================================================================
# Key-Pair Authentication (SNOWFLAKE_AUTH_TYPE=keypair)
# ============================================================================
# Option 1: Path to private key file (recommended for Docker/production)
# The key should be in PEM format, PKCS#8 encoding
# Example: /run/secrets/snowflake_key.p8 or ./keys/snowflake_key.p8
#SNOWFLAKE_PRIVATE_KEY_PATH=/path/to/your/private_key.p8

# Option 2: Base64-encoded private key content (alternative)
# Encode your key with: base64 -w 0 snowflake_key.p8
#SNOWFLAKE_PRIVATE_KEY_CONTENT=your-base64-encoded-key-here

# Optional: Passphrase for encrypted private keys
# Leave empty if your private key is not encrypted
#SNOWFLAKE_PRIVATE_KEY_PASSPHRASE=your-passphrase

# ============================================================================
# Snowflake Database and Schema
# ============================================================================
# The database and schema to connect to
SNOWFLAKE_DATABASE=SNOWFLAKE
SNOWFLAKE_SCHEMA=ACCOUNT_USAGE

# Snowflake Warehouse
# The warehouse to use for query execution
SNOWFLAKE_WAREHOUSE=your-warehouse

# Snowflake Role
# The role must have access to SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY
# Typically ACCOUNTADMIN or a role with IMPORTED PRIVILEGES on SNOWFLAKE database
SNOWFLAKE_ROLE=ACCOUNTADMIN

# ============================================================================
# How to generate key pair for Snowflake:
# ============================================================================
# 1. Generate unencrypted private key:
#    openssl genrsa 2048 | openssl pkcs8 -topk8 -nocrypt -inform PEM -out rsa_key.p8
#
# 2. Generate encrypted private key (with passphrase):
#    openssl genrsa 2048 | openssl pkcs8 -topk8 -v2 des3 -inform PEM -out rsa_key.p8
#
# 3. Extract public key:
#    openssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub
#
# 4. Assign public key to Snowflake user (remove header/footer and newlines):
#    ALTER USER your_username SET RSA_PUBLIC_KEY='MIIBIjANBgkq...';
#
# See: https://docs.snowflake.com/en/user-guide/key-pair-auth
# ============================================================================

# ============================================================================
# Optional: Server Port (defaults to 8080)
# ============================================================================
#PORT=8080
